<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <title>NUMA ADMINISTRADOR</title>
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" type="image/png" sizes="16x16" href="/html/img/logo.png">

    <link rel="icon" type="image/png" sizes="16x16" href="html/img/logo.png">


</head>

<body>
    <nav id="sidebar">
        <ul>
            <li><a href="#principal" class="active"><i class="fa-solid fa-home"></i><span>Principal</span></a></li>
            <li><a href="routes.html"><i class="fa-solid fa-route"></i><span>Rutas</span></a></li>
            <li><a href="vehiculos.html"><i class="fa-solid fa-truck"></i><span>Vehículos</span></a></li>
            <li><a href="choferes.html"><i class="fa-solid fa-user"></i></i><span>Choferes</span></a></li>
            <li><a href="reportes.html"><i class="fa-solid fa-file-alt"></i><span>Reportes</span></a></li>
        </ul>
    </nav>

    <div id="main-content">
        <header>
            <div class="logo-container">
                <div class="logo">
                    <img src="/html/img/logo.png" alt="NUMA logo">
                </div>
                <div>
                    <h1>NUMA Movil</h1>
                    <p class="muted">ADMINISTRADOR -- Analiza tus rutas</p>
                </div>
            </div>

            <div class="kpi-container">
                <div class="kpi-card">
                    <i class="fa-solid fa-truck-moving"></i>
                    <div>
                        <span class="kpi-value" id="kpi-activos">0</span>
                        <span class="kpi-label">Rutas pendientes</span>
                    </div>
                </div>
                <div class="kpi-card">
                    <i class="fa-solid fa-route"></i>
                    <div>
                        <span class="kpi-value" id="kpi-rutas">0</span>
                        <span class="kpi-label">Rutas en curso</span>
                    </div>
                </div>
                <div class="kpi-card">
                    <i class="fa-solid fa-font-awesome"></i>
                    <div>
                        <span class="kpi-value" id="kpi-alertas">0</span>
                        <span class="kpi-label">Rutas finalizadas</span>
                    </div>
                </div>
                <div class="kpi-card">
                    <i class="fa fa-users" aria-hidden="true"></i>
                    <div>
                        <span class="kpi-value" id="kpi-distancia">0</span>
                        <span class="kpi-label">Choferes activos</span>
                    </div>
                </div>
            </div>
        </header>

        <section id="principal">
            <!-- Contenedor donde Leaflet dibujará el mapa -->
            <div id="draw-map"></div>
            <!-- Texto de estado: ruta o coordenadas del móvil -->
            <p id="status" style="text-align:center; margin-top:8px; color:#fff;">
                Cargando mapa…
            </p>
        </section>
        <section id="secundaria">
            <div id="info_gen">
                <div class="info-container">
                    <div class="info-card">
                        <div>
                            <h2>Nombre de la ruta:</h2>
                            <li id="route-name-display"></li>
                            <li id="route-id-display"></li>
                        </div>
                    </div>
                    <div class="info-card">
                        <div>
                            <h2>Chofer</h2>
                            <li id="chofer-name-display"></li>
                            <li id="chofer-id-display"></li>
                        </div>
                    </div>
                    <div class="info-card">
                        <div>
                            <h2>Vehiculo</h2>
                            <li id="vehiculo-name-display"></li>
                            <li id="vehiculo-id-display"></li>
                        </div>
                    </div>
                    <div class="info-card">
                        <div>
                            <h2>Coordenada</h2>
                            <li id="coords-display"></li>
                            <li id="coords-status-display"></li>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div id="notification-container" class="notification-container" style="display: none;">
        <div class="notification-content">
            <p id="notification-text"></p>
            <div class="notification-actions">
                <button id="btn-accept-finish" class="btn-accept">Aceptar</button>
                <button id="btn-decline-finish" class="btn-decline">Declinar</button>
            </div>
        </div>
    </div>
    <!-- 1) Cargamos Leaflet -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <!-- 2) Cargamos Socket.IO cliente (servido desde /socket.io/socket.io.js) -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- 3) Finalmente, tu script personalizado que ya no usa geolocalización local -->
    <script src="./js/script.js"></script>
</body>

</html>